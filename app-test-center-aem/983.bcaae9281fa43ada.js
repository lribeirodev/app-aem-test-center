"use strict";(self.webpackChunkAppTestCenterAEM=self.webpackChunkAppTestCenterAEM||[]).push([[983],{5983:(O,u,i)=>{i.r(u),i.d(u,{LoggedModule:()=>E});var m=i(9808),f=i(962),d=i(5472),e=i(1223);let p=(()=>{class n{constructor(t){this.router=t}canActivate(t,o){return!(!document.cookie.includes("token")||!localStorage.getItem("emailSignIn"))||(this.router.navigate(["/home"]),!1)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(d.F0))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var s=i(5861),h=i(6409),x=i(1313);function T(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div",3)(1,"div",4)(2,"h1"),e._uU(3,"SEJA BEM VINDO (A)"),e.qZA(),e.TgZ(4,"p"),e._uU(5,"Este aplica\xe7\xe3o foi criado no intuito de ajudar, aqueles que buscam a certifica\xe7\xe3o"),e.qZA()(),e.TgZ(6,"div",5)(7,"button",6),e.NdJ("click",function(){return e.CHM(t),e.oxw().initTest()}),e._uU(8,"INICIAR TESTE"),e.qZA()()()}}function M(n,c){1&n&&(e.TgZ(0,"div",7),e._UZ(1,"img",8),e.qZA())}const y=[{path:"",component:(()=>{class n{constructor(t,o){this.router=t,this.service=o,this.loading=!0}ngOnInit(){this.initConfig()}initTest(){this.router.navigate(["/logged/exercises"])}initConfig(){var t=this;return(0,s.Z)(function*(){let o=document.cookie;t.service.createObserVableCheckAuth().subscribe(function(){var a=(0,s.Z)(function*(r){if(r){t.email=window.localStorage.getItem(x.h.EMAIL_FROM_SESSION_STORAGE);const l=window.location.href;r.currentUser?(yield t.checkEmailUserVerified(r),yield t.checkCookie(r,o)):yield t.loginWithEmailLink(r,l,t.email)}});return function(r){return a.apply(this,arguments)}}())})()}loginWithEmailLink(t,o,a){var r=this;return(0,s.Z)(function*(){(0,h.P6)(t,a,o).then(l=>{let g=new Date;g.setTime(g.getTime()+36e5),g.getUTCDate(),l.user.getIdTokenResult().then(C=>{let _=new Date,L=60*_.getTime()*60*1e3;_.setTime(L),document.cookie=`token=${C.token};expires=${C.expirationTime};path=/`,r.loading=!1})}).catch(l=>{r.returnToHomePage()})})()}checkCookie(t,o){var a=this;return(0,s.Z)(function*(){var r,l;(0,h.v0)(),o.includes("token")?yield null===(r=t.currentUser)||void 0===r?void 0:r.getIdTokenResult().then(g=>{o.substring(o.indexOf("=")+1,o.length)!==g.token&&a.returnToHomePage()}):null===(l=t.currentUser)||void 0===l||l.getIdTokenResult().then(g=>{document.cookie=`token=${g.token};expires=${g.expirationTime};path=/`,a.loading=!1})})()}checkEmailUserVerified(t){var o;(null===(o=t.currentUser)||void 0===o?void 0:o.emailVerified)?this.loading=!1:this.returnToHomePage()}returnToHomePage(){this.router.navigate(["/home"])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(d.F0),e.Y36(f.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:3,vars:2,consts:[[1,"logged-component"],["class","logged-component__container",4,"ngIf"],["class","logged-component__container__loading",4,"ngIf"],[1,"logged-component__container"],[1,"logged-component__container__header"],[1,"logged-component__container__footer"],[3,"click"],[1,"logged-component__container__loading"],["src","../../../../assets/img/loading.gif"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,T,9,0,"div",1),e.YNc(2,M,2,0,"div",2),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",!o.loading),e.xp6(1),e.Q6J("ngIf",o.loading))},directives:[m.O5],styles:[".logged-component[_ngcontent-%COMP%]{background-color:#001d30;width:100vw;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center}.logged-component__container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}@media only screen and (max-width: 800px){.logged-component__container__loading[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:90vw}}.logged-component__container__header[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;text-align:center;color:#fff}.logged-component__container__header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px;line-height:30px}@media only screen and (max-width: 800px){.logged-component__container__header[_ngcontent-%COMP%]{width:90vw}}.logged-component__container__footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer;margin-top:20px;width:300px;height:70px;border-radius:10px;border:2px solid #FFFFFF;font-weight:700;font-size:30px;color:#fff;outline:0;background-color:transparent}.logged-component__container__footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{border-color:#0ff;color:#0ff}"]}),n})()},{path:"exercises",canActivate:[p],loadChildren:()=>Promise.all([i.e(382),i.e(433)]).then(i.bind(i,1433)).then(n=>n.ExerciseContainerModule)}];let k=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[d.Bz.forChild(y)],d.Bz]}),n})(),E=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[f.e,p],imports:[[k,m.ez,d.Bz]]}),n})()}}]);